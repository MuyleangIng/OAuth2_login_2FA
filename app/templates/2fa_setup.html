{% extends "base.html" %}
{% block title %}Set up 2-Step Verification{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-2">Set up 2-Step Verification</h1>
<p class="text-gray-600 mb-6">Scan this QR with Google Authenticator / Microsoft Authenticator. Then enter a code to activate.</p>

<div class="flex items-start gap-6">
  <img src="data:image/png;base64,{{ qr_b64 }}" alt="Authenticator QR" class="w-40 h-40 border rounded-xl" />
  <div class="flex-1">
    <p class="text-sm text-gray-500 mb-2">Or add manually:</p>
    <code class="block bg-gray-100 p-3 rounded-xl break-all text-xs">{{ otpauth_uri }}</code>
  </div>
</div>

<form method="post" action="/auth/2fa/activate" class="space-y-4 mt-6">
  <input name="code" inputmode="numeric" pattern="\d{6}" maxlength="6"
         class="w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring"
         placeholder="123456" required />
  <button type="submit" class="w-full px-4 py-2 rounded-xl bg-black text-white hover:bg-gray-800">
    Activate
  </button>
</form>
{% endblock %}
